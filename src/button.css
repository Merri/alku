/* all basic button resets + desirable default behavior: color CSS vars, icon support, alignment */
:where(button),
::file-selector-button,
[data-button] {
	-webkit-appearance: none;
	appearance: none;
	background-color: var(--button-color-background, transparent);
	background-image: linear-gradient(
		var(--button-color-on-background, transparent),
		var(--button-color-on-background, transparent)
	);
	border: 0 solid var(--button-color-border, transparent);
	color: var(--button-color-text, inherit);
	cursor: pointer;
	display: inline-flex;
	flex-flow: wrap;
	font-size: var(--default-font-size);
	font-weight: 600;
	gap: 0.5rem;
	line-height: 1;
	padding: 0;
	place-content: center;
	position: relative;
	user-select: none;
	vertical-align: middle;
}

/* focused button outline should always appear above other elements */
:where(button:focus-visible),
[data-button]:where(:focus-visible) {
	z-index: 1;
}

:where(button:not([data-button])),
::file-selector-button,
[data-button~='mediumSize' i] {
	border-width: 0.125rem;
	border-radius: 0.5rem;
	line-height: 1.5rem;
	padding: 0.625rem 1.5rem;
}

[data-button~='smallCircle' i] {
	aspect-ratio: 1 / 1;
	border-radius: 50%;
	padding: 0.25rem;
}

[data-button~='mediumCircle' i] {
	aspect-ratio: 1 / 1;
	border-radius: 50%;
	padding: 0.5rem;
}

[data-button~='largeCircle' i] {
	aspect-ratio: 1 / 1;
	border-radius: 50%;
	padding: 0.75rem;
}

:where(button:not([data-button])),
::file-selector-button,
[data-button~='systemColor' i] {
	--button-color-background: ButtonFace;
	--button-color-border: var(--muted-50);
	--button-color-border: color-mix(in lch, ButtonFace, ButtonText 50%);
	--button-color-text: ButtonText;
}

:where(button:not([data-button]):is(:hover, :focus-visible)),
:where([type='file' i]:is(:hover, :focus-visible))::file-selector-button,
[data-button~='systemColor' i]:where(:hover, :focus-visible) {
	--button-color-on-background: rgb(255 255 255 / 25%);
	--button-color-on-background: color-mix(in lch, ButtonFace, white 25%);
}

:where(button:not([data-button]):active),
:where([type='file' i]:active)::file-selector-button,
[data-button~='systemColor' i]:where(:active) {
	--button-color-on-background: rgb(0 0 0 / 25%);
	--button-color-on-background: color-mix(in lch, ButtonFace, black 25%);
}

::file-selector-button {
	margin-right: 0.5rem;
	padding-inline: 0.5rem;
}
